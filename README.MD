# Домашнее задание к занятию 12.8. «Резервное копирование баз данных» - Зилаев Денис.

---

### Задание 1. Резервное копирование

### Кейс
Финансовая компания решила увеличить надёжность работы баз данных и их резервного копирования. 

Необходимо описать, какие варианты резервного копирования подходят в случаях: 

1.1. Необходимо восстанавливать данные в полном объёме за предыдущий день.

1.2. Необходимо восстанавливать данные за час до предполагаемой поломки.

1.3.* Возможен ли кейс, когда при поломке базы происходило моментальное переключение на работающую или починенную базу данных.

*Приведите ответ в свободной форме.*

Ответ:

1.1. Я работал в микрофинансовой компании и использовал полное резервное копирование (запускалось каждые 24 часа).

1.2. Инкрементное, если делается каждый час.

1.3.* Кейс возможен, но много нюансов. Теоретически когда используется кластер, переключиться на Slave (сделать его master), где еще не прошла "кривая транзакция". Если это аппаратный сбой. если программный, то высока вероятность повторения инцидента в короткий срок.

---

### Задание 2. PostgreSQL

2.1. С помощью официальной документации приведите пример команды резервирования данных и восстановления БД (pgdump/pgrestore).

*Приведите ответ в свободной форме.*

Ответ:

2.1. pg_dump <bd_name> > <dump_name> - резервное копирование   
     pg_dump <bd_name> < <backup_bd_file> - восстановление
     


---

### Задание 3. MySQL

3.1. С помощью официальной документации приведите пример команды инкрементного резервного копирования базы данных MySQL. 

Ответ: 

3.1. При использовании утилиты mysqlbackup с опцией  --incremental-base=history:last_full_backup.
Так же можно создать инкрементные резервные копии с использованием только журнала повторов с помощю опции --incremental-with-redo-log-only.

